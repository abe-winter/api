syntax = "proto3";

package viam.app.build.v1;

option go_package = "go.viam.com/api/app/build/v1";

service BuildService {
  rpc StartBuild(StartBuildRequest) returns (StartBuildResponse);
}

message StartBuildRequest {
  // repo to build
  optional string repo = 1;
  // optional git ref; defaults to 'main'
  optional string ref = 2;
  repeated string arch = 3;
  // module_id as prefix:name pair
  string module_id = 4;
}

message StartBuildResponse {
  // todo: does error status go in here or is there a separate error type?
  // github's ID for the build
  optional string github_id = 1;
}
